---
title: 对C语言头文件的一些认识
date: 2017-09-19 22:43:05
tags: [C]
categories: [Programing Language]
---

在编写程序过程中，对c语言中同名的.h文件和.c文件之间的关系产生了一些疑惑，二者之间是什么关系呢？随后进行了查阅，有一些收获，总结如下：
1.  .h文件和.c文件对于编译器而言没有任何区别。

2.  同名的.h文件和.c文件之间不存在绑定关系，只是遵从习惯通常在.h文件中声明.c文件中的函数，当这些函数被其他文件调用时方便声明。有时，在c文件的开头也会包含同名的h文件，其作用就是在文件开头声明了本文件中的所有函数，在某些工程中被要求为规范写法。

3.  c文件中的`#include"xx.h"`语句表明的含义就是告诉编译器在预编译过程中用该.h文件中的全部内容替换该语句。同时.h文件不指示任何库文件（中间目标文件的集合）的存储位置，所有库应放在默认目录或指定目录下。

4.    一般来说编译器主要有一下三个工作过程：预编译、编译、链接。预编译过程负责处理各种宏定义、文件包含和条件编译；编译过程检查各个源文件的语法是否正确，函数和变量有没有声明，不用考虑函数的具体实现，语法检查通过之后就会生成中间目标文件（.o文件或.obj文件）；链接过程编译器将会遍历所有的中间目标文件去查找相应函数的具体实现，如果不能找到函数的具体实现或者函数存在多次实现都会报错。

5.  链接分为动态链接和静态链接，静态链接使用的静态链接库（.a或.lib文件）生成的二进制代码将被包含在可执行文件中，静态链接生成的可执行文件可以独立运行；动态链接使用的动态链接库（.so或dll文件）只会被可执行文件引用而不会被包含，生成的可执行文件一般无法独立运行。

6.  同一个h文件为了避免被同一个c文件多次包含可以采用如下代码格式：
 ```
#ifndef _XX_H
#define _XX_H
...
#endif
 ```

