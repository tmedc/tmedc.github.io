---
title: Regular Express Note
date: 2018-5-2 16:22:01
tags: [RE]
categories: [Programing Language]
---

## Meta-character

### 位置

- `\b` 匹配字符串的开始或结束，boundary。  **反义为`\B`**
- `^` 匹配字符串的开始, (选择处理多行后，表示行的开始)
- `$` 匹配字符串的结束, (同上)

### 字符

- `. ` 匹配任意字符，除换行符 
- `\d` 匹配数字。  **反义为`\D`**
- `\w` 匹配字母、数字、下划线、汉字。 **反义为`\W`**
- `\s` 匹配任意空白符。  **反义为`\S`**

### 数量

- `*` 前面的字符连续重复使用任意次，[0, +inf]
- `+` 连续重复至少一次，[1, +inf] 
- `?` 连续重复0或1次，[0,1]
- `{n}` 前面字符必须重复n次
- `{n,}` 重复n或者更多次，[n, +inf]
- `{n,m}` 重复次数范围是[n,n]



### 转义符

- 匹配元字符本身时，需要使用`\`转义符，比如匹配$, 需要`\$`
- `/`也需要使用转义符，即`\/`的样子

## `[]`的使用

- 匹配abcd四个字母中任意一个时，使用`[abcd]`, 类似的有`\d`=`[0-9]`, `\w`=`[a-z0-1A-Z]`

## 分支条件

- `|`表示用来分割不同规则，其中任意一个规则匹配即可，并且从左到右直到遇到第一个满足的匹配条件，后续的规则就不管了

## 反义

- 元字符的反义：把小写改为大写
- `[]`的反义：`[^x]`表示除x以外的任意字符

## 后向引用

`()` 指定一个子表达式被捕获为一个分组，后续可以被`\1`代替从而进行重复搜索，默认0为整个正则表达式，1维第一个，2 为第二个...

组号分配过程需扫描两次，第一次扫描未命名组，第二次扫描命名组，所以命名组的组号一定大于未命名组

### 捕获

- `(exp)` 匹配exp并捕获文本到自动命名的组中
- `(?<name>exp)` 或者`(?'name'exp)`匹配exp，并捕获到命名为name的组中,
- `(?:exp)` 匹配exp，但是不捕获，也不分配组号

## 零宽断言、负向零宽断言

- 零宽断言用于指定位置，作用和`\b`、`^`、`$`类似
- 断言用来声明一个为真的事实，只有断言为真时，才会继续进行匹配

### 语法列表

**零宽断言：**

- `(?=exp)`  匹配exp后面的位置。这个位置后面有exp。断言后缀是exp
- `(?<=exp)` 匹配exp前面的位置。这个位置前面有exp。断言前缀是exp



**负向零宽断言：**

- `(?!exp)` 匹配后面不是exp的位置。这个位置后面没有exp。断言后缀不是exp
- `(?<!exp)` 匹配前面不是exp的位置。这个位置前面没有exp。断言前缀不是exp

## 注释

- 不忽略空白符时：使用`(?#comment)` 来写注释
- 忽略空白符时： 和python注释规则一样，`#`后面直至行尾都被认为时注释

## 贪婪与懒惰

- 正则表达式在默认情况下，会尽可能匹配更长的字符串，称为“贪婪”。
- 在匹配条件后面加上`?`可以转为懒惰模式，尽可能使用最少的重复。例如：`*?` 匹配任意次，但尽可能少重复
- 比贪婪懒惰规则更高优先级的规则是：最先开始的的匹配拥有最高优先级，"The match that begins earliest wins."

## 平衡组/递归匹配

